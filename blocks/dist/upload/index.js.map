{"version":3,"file":"upload/index.js","mappings":"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","sources":["webpack://vimeify-blocks/./src/upload/edit.js","webpack://vimeify-blocks/./src/upload/save.js","webpack://vimeify-blocks/./src/upload/editor.scss?18e8","webpack://vimeify-blocks/external window [\"wp\",\"blockEditor\"]","webpack://vimeify-blocks/external window [\"wp\",\"blocks\"]","webpack://vimeify-blocks/external window [\"wp\",\"components\"]","webpack://vimeify-blocks/external window [\"wp\",\"data\"]","webpack://vimeify-blocks/external window [\"wp\",\"element\"]","webpack://vimeify-blocks/webpack/bootstrap","webpack://vimeify-blocks/webpack/runtime/compat get default export","webpack://vimeify-blocks/webpack/runtime/define property getters","webpack://vimeify-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://vimeify-blocks/webpack/runtime/make namespace object","webpack://vimeify-blocks/./src/upload/index.js"],"sourcesContent":["/********************************************************************\n * Copyright (C) 2023 Darko Gjorgjijoski (https://darkog.com/)\n * Copyright (C) 2023 IDEOLOGIX MEDIA Dooel (https://ideologix.com/)\n *\n * This file is property of IDEOLOGIX MEDIA Dooel (https://ideologix.com)\n * This file is part of Vimeify Plugin - https://wordpress.org/plugins/wp-vimeo-videos/\n *\n * Vimeify - Formerly \"WP Vimeo Videos\" is free software: you can redistribute\n * it and/or modify it under the terms of the GNU General Public License as\n * published by the Free Software Foundation, either version 2 of the License,\n * or (at your option) any later version.\n *\n * Vimeify - Formerly \"WP Vimeo Videos\" is distributed in the hope that it\n * will be useful, but WITHOUT ANY WARRANTY; without even the implied\n * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this plugin. If not, see <https://www.gnu.org/licenses/>.\n *\n * Code developed by Darko Gjorgjijoski <dg@darkog.com>.\n **********************************************************************/\n\nimport \"./editor.scss\"\nimport {useBlockProps} from '@wordpress/block-editor';\nimport {Button, FormFileUpload, RadioControl, SelectControl, TextareaControl, TextControl} from '@wordpress/components';\nimport {useEffect, useState} from \"@wordpress/element\";\nimport {useDispatch} from \"@wordpress/data\";\n\n\nconst VimeifyAPICore = window['WPVimeoVideos'] ? window['WPVimeoVideos'] : null;\n\nconst filterViewPrivacyOptions = (options) => {\n    const newOptions = {};\n    for (let i in options) {\n        if (options[i].available) {\n            newOptions[i] = options[i];\n        }\n    }\n    return newOptions;\n}\n\nconst Edit = ({attributes, setAttributes}) => {\n\n    const minSearchCharacters = 2;\n    const i18n = window['VimeifyUploadBlock'] && window['VimeifyUploadBlock']['i18n'] ? window['VimeifyUploadBlock']['i18n'] : {};\n    const notifyEndpoint = window['VimeifyUploadBlock'] && window['VimeifyUploadBlock']['notifyEndpoint'] ? window['VimeifyUploadBlock']['notifyEndpoint'] : '';\n    const methods = window['VimeifyUploadBlock']['methods'] ? window['VimeifyUploadBlock']['methods'] : {};\n    const nonce = window['VimeifyUploadBlock']['nonce'] ? window['VimeifyUploadBlock']['nonce'] : '';\n    const restBase = window['VimeifyUploadBlock']['restBase'] ? window['VimeifyUploadBlock']['restBase'] : '';\n    const accessToken = window['VimeifyUploadBlock']['accessToken'] ? window['VimeifyUploadBlock']['accessToken'] : '';\n    const isViewPrivacyEnabled = window['VimeifyUploadBlock']['upload_form_options']['enable_view_privacy'] ? 1 : 0;\n    const viewPrivacyOptions = isViewPrivacyEnabled ? filterViewPrivacyOptions(window['VimeifyUploadBlock']['upload_form_options']['privacy_view']) : [];\n    const defaultViewPrivacy = Object.keys(viewPrivacyOptions).find(key => {\n        return true === viewPrivacyOptions[key].default;\n    })\n\n    const isFoldersEnabled = window['VimeifyUploadBlock']['upload_form_options']['enable_folders'] ? 1 : 0;\n    const defaultFolder = window['VimeifyUploadBlock']['upload_form_options']['default_folder']\n\n    const blockProps = useBlockProps();\n    const dropdownPlaceholder = {label: 'Select result...', value: ''};\n\n    const [type, setType] = useState('');\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [file, setFile] = useState(null);\n    const [value, setValue] = useState(null);\n    const [viewPrivacy, setViewPrivacy] = useState(defaultViewPrivacy);\n    const [folder, setFolder] = useState(defaultFolder.uri);\n    const [isUploading, setUploading] = useState(false);\n    const [uploadProgress, setUploadProgress] = useState(0);\n\n    const [folderSearch, setFolderSearch] = useState('');\n    const [folderResults, setFolderResults] = useState([]);\n\n    const [remoteSearch, setRemoteSearch] = useState('');\n    const [remoteResults, setRemoteResults] = useState([]);\n\n    const [localSearch, setLocalSearch] = useState('');\n    const [localResults, setLocalResults] = useState([]);\n\n    const { savePost } = useDispatch( 'core/editor' );\n\n    const handleUploadSave = (event) => {\n\n        if (!VimeifyAPICore.Uploader.validateVideo(file)) {\n            alert(i18n.words.sorry + ': ' + i18n.phrases.upload_invalid_file, 'error');\n            return false;\n        }\n        const uploader = new VimeifyAPICore.Uploader(accessToken, file, {\n            'title': title,\n            'description': description,\n            'privacy': viewPrivacy,\n            'folder': folder,\n            'wp': {\n                'notify_endpoint': notifyEndpoint,\n            },\n            'beforeStart': function () {\n                setUploading(true);\n                setUploadProgress(0.25);\n            },\n            'onProgress': function (bytesUploaded, bytesTotal) {\n                setUploadProgress((bytesUploaded / bytesTotal * 100).toFixed(2));\n            },\n            'onSuccess': function (response, currentUpload) {\n                setType('');\n                setAttributes({currentValue: currentUpload.uri})\n                savePost();\n            },\n            'onError': function (error) {\n                setUploading(false);\n                alert('Vimeo upload error.');\n            },\n            'onVideoCreateError': function (error) {\n                let message = '';\n                const parsedError = JSON.parse(error);\n                if (parsedError.hasOwnProperty('invalid_parameters')) {\n                    message = parsedError['invalid_parameters'][0]['developer_message'];\n                } else {\n                    message = parsedError['developer_message'];\n                }\n                setUploading(false);\n                alert(message);\n            },\n            'onWPNotifyError': function (error) {\n                let message = '';\n                const parsedError = JSON.parse(error);\n                if (parsedError.hasOwnProperty('data')) {\n                    message = parsedError.data;\n                } else {\n                    message = 'Error notifying WordPress about the file upload.';\n                }\n                setUploading(target, true);\n                alert(message);\n            }\n        });\n        uploader.start();\n    }\n\n    const saveRemoteSearch = (event) => {\n        setType('');\n        setAttributes({currentValue: value});\n    }\n    const saveLocalSearch = (event) => {\n        setType('');\n        setAttributes({currentValue: value});\n    }\n    const handleClear = (event) => {\n        setType('');\n        setAttributes({currentValue: ''});\n    }\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            if (remoteSearch.length > minSearchCharacters) {\n                const profile = new VimeifyAPICore.Profile(accessToken);\n                profile.search({\n                    'page': 1,\n                    'per_page': 100,\n                    'query': remoteSearch,\n                    'sort': 'date',\n                    'direction': 'desc',\n                    'onSuccess': function (response) {\n                        if (response.data.length > 0) {\n                            setRemoteResults(response.data);\n                        }\n                    },\n                    'onError': function (response) {\n                        console.warn('Vimeify: Unable to search remote profile.');\n                        console.warn(response);\n                        alert('Search error: ' + response.message)\n                    }\n                });\n            }\n        }, 800)\n        return () => clearTimeout(delayDebounceFn)\n    }, [remoteSearch])\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(async () => {\n            if (localSearch.length > minSearchCharacters) {\n                try {\n                    const response = await fetch(restBase + \"vimeify/v1/videos?s=\" + localSearch + '&_wpnonce=' + nonce);\n                    const body = await response.json();\n                    setLocalResults(body?.data);\n                } catch (e) {\n                    console.warn('Error searching local videos:');\n                    console.warn(e);\n                    alert('Search error: ' + e.message)\n                }\n            }\n        }, 800)\n        return () => clearTimeout(delayDebounceFn)\n    }, [localSearch])\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(async () => {\n            if (folderSearch.length > minSearchCharacters) {\n                try {\n                    const response = await fetch(restBase + \"vimeify/v1/folders?query=\" + folderSearch + '&_wpnonce=' + nonce);\n                    const body = await response.json();\n                    setFolderResults([defaultFolder].concat(body?.data ? body?.data : []));\n                } catch (e) {\n                    console.warn('Error searching folders:');\n                    console.warn(e);\n                    alert('Search error: ' + e.message)\n                }\n            }\n        }, 800)\n        return () => clearTimeout(delayDebounceFn)\n    }, [folderSearch])\n\n\n    return (<div {...blockProps}>\n            <div className={attributes.currentValue ? 'vimeify-upload-form' : ''}>\n                {\n                    attributes.currentValue && '' !== attributes.currentValue &&\n                    <div>\n                        <iframe width=\"auto\"\n                                height=\"400\"\n                                src={'https://player.vimeo.com/video/' + attributes.currentValue.replace('/videos/', '')}\n                                frameBorder=\"0\"\n                                allow=\"autoplay; encrypted-media\"\n                                webkitallowfullscreen\n                                mozallowfullscreen\n                                allowFullScreen>\n                        </iframe>\n                        <hr/>\n                        <div style={{textAlign: 'center'}}>\n                            <Button onClick={handleClear} variant=\"secondary\">{i18n.words.clear}</Button>\n                        </div>\n                    </div>\n                }\n                {(!attributes.currentValue || '' === attributes.currentValue) ? <>\n                    <h3 className=\"vimeify-block-title\">Vimeo</h3>\n                    <div style={{marginBottom: '15px'}}>\n                        <RadioControl\n                            label={i18n.words.radio_title}\n                            selected={type}\n                            options={[{label: methods.upload, value: 'upload'}, {\n                                label: methods.local,\n                                value: 'local'\n                            }, {label: methods.search, value: 'search'},]}\n                            onChange={(value) => setType(value)}\n                        />\n                    </div>\n                    {/* Upload video form */}\n                    {type === 'upload' && <div className=\"vimeify-upload-form-inner\">\n                        <TextControl\n                            label={i18n.words.title}\n                            value={title}\n                            onChange={(value) => setTitle(value)}\n                        />\n                        <TextareaControl\n                            label={i18n.words.description}\n                            value={description}\n                            onChange={(value) => setDescription(value)}\n                        />\n\n                        {isViewPrivacyEnabled && <SelectControl\n                            label={i18n.words.view_privacy}\n                            help={i18n.phrases.view_privacy_help}\n                            value={viewPrivacy}\n                            options={Object.keys(viewPrivacyOptions).map((key) => {\n                                return {label: viewPrivacyOptions[key].name, value: key};\n                            })}\n                            onChange={(newValue) => setViewPrivacy(newValue)}\n                        />}\n                        {isFoldersEnabled && <div>\n                            <TextControl\n                                label={i18n.words.folder}\n                                placeholder={i18n.phrases.folder_placeholder}\n                                value={folderSearch}\n                                help={folderResults.length === 0 ? i18n.phrases.folder_help : \"\"}\n                                onChange={(value) => setFolderSearch(value)}\n                            />\n                            {folderResults.length > 0 && <SelectControl\n                                help={i18n.phrases.folder_help}\n                                value={folder}\n                                options={folderResults.map((item) => {\n                                    return {label: item.name, value: item.uri};\n                                })}\n                                onChange={(newValue) => setFolder(newValue)}/>}\n                        </div>}\n\n                        {file && <p>Selected: {file.name}</p>}\n                        <FormFileUpload\n                            accept=\"video/*\"\n                            variant=\"secondary\"\n                            onChange={(event) => setFile(event.currentTarget.files[0])}\n                        >\n                            {file ? i18n.words.video_replace : i18n.words.video_select}\n                        </FormFileUpload>\n\n                        {isUploading && <div className=\"vimeify-progress\">\n                            <div className=\"vimeify-progress-value\" style={{width: uploadProgress + '%'}}></div>\n                        </div>}\n\n                        {file && <div style={{marginTop: '10px'}}>\n                            <Button onClick={handleUploadSave} variant=\"primary\">{i18n.words.upload}</Button>\n                        </div>}\n                    </div>}\n\n                    {/* Vimeo search/select form */}\n                    {type === 'search' && <div className=\"vimeify-remote-search-form\">\n                        <TextControl\n                            label={i18n.phrases.remote_search_placeholder}\n                            value={remoteSearch}\n                            onChange={(value) => setRemoteSearch(value)}\n                        />\n                        {remoteResults.length > 0 && <SelectControl\n                            label={i18n.words.video_list}\n                            value={value}\n                            options={[dropdownPlaceholder].concat(remoteResults.map((item) => {\n                                return {label: item.name, value: item.uri};\n                            }))}\n                            onChange={(selected) => setValue(selected)}\n                        />}\n                        {value && <Button onClick={saveRemoteSearch} variant=\"primary\">{i18n.words.save}</Button>}\n                    </div>}\n\n                    {/* Local search/select form */}\n                    {type === 'local' && <div className=\"vimeify-local-search-form\">\n                        <TextControl\n                            label={i18n.phrases.local_search_placeholder}\n                            value={localSearch}\n                            onChange={(value) => setLocalSearch(value)}\n                        />\n                        {localResults.length > 0 && <SelectControl\n                            label={i18n.words.video_list}\n                            value={value}\n                            options={[dropdownPlaceholder].concat(localResults.map((item) => {\n                                return {label: item.name, value: item.uri};\n                            }))}\n                            onChange={(selected) => setValue(selected)}\n                        />}\n                        {value && <Button onClick={saveLocalSearch} variant=\"primary\">{i18n.words.save}</Button>}\n                    </div>}\n                </> : \"\"}\n\n            </div>\n        </div>\n    );\n};\nexport default Edit;\n","/********************************************************************\n * Copyright (C) 2023 Darko Gjorgjijoski (https://darkog.com/)\n * Copyright (C) 2023 IDEOLOGIX MEDIA Dooel (https://ideologix.com/)\n *\n * This file is property of IDEOLOGIX MEDIA Dooel (https://ideologix.com)\n * This file is part of Vimeify Plugin - https://wordpress.org/plugins/wp-vimeo-videos/\n *\n * Vimeify - Formerly \"WP Vimeo Videos\" is free software: you can redistribute\n * it and/or modify it under the terms of the GNU General Public License as\n * published by the Free Software Foundation, either version 2 of the License,\n * or (at your option) any later version.\n *\n * Vimeify - Formerly \"WP Vimeo Videos\" is distributed in the hope that it\n * will be useful, but WITHOUT ANY WARRANTY; without even the implied\n * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this plugin. If not, see <https://www.gnu.org/licenses/>.\n *\n * Code developed by Darko Gjorgjijoski <dg@darkog.com>.\n **********************************************************************/\n\nconst Save = () => {\n    return null;\n};\nexport default Save;","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/********************************************************************\n * Copyright (C) 2023 Darko Gjorgjijoski (https://darkog.com/)\n * Copyright (C) 2023 IDEOLOGIX MEDIA Dooel (https://ideologix.com/)\n *\n * This file is property of IDEOLOGIX MEDIA Dooel (https://ideologix.com)\n * This file is part of Vimeify Plugin - https://wordpress.org/plugins/wp-vimeo-videos/\n *\n * Vimeify - Formerly \"WP Vimeo Videos\" is free software: you can redistribute\n * it and/or modify it under the terms of the GNU General Public License as\n * published by the Free Software Foundation, either version 2 of the License,\n * or (at your option) any later version.\n *\n * Vimeify - Formerly \"WP Vimeo Videos\" is distributed in the hope that it\n * will be useful, but WITHOUT ANY WARRANTY; without even the implied\n * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along\n * with this plugin. If not, see <https://www.gnu.org/licenses/>.\n *\n * Code developed by Darko Gjorgjijoski <dg@darkog.com>.\n **********************************************************************/\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport json from './block.json';\nimport Edit from './edit';\nimport Save from \"./save\";\n\n// Destructure the json file to get the name of the block\n// For more information on how this works, see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\nconst { name } = json;\n\n// Register the block\nregisterBlockType( name, {\n\tattributes: {\n\t\tcurrentValue: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\tedit: Edit,\n\tsave: Save\n} );\n"],"names":["useBlockProps","Button","FormFileUpload","RadioControl","SelectControl","TextareaControl","TextControl","useEffect","useState","useDispatch","VimeifyAPICore","window","filterViewPrivacyOptions","options","newOptions","i","available","Edit","attributes","setAttributes","minSearchCharacters","i18n","notifyEndpoint","methods","nonce","restBase","accessToken","isViewPrivacyEnabled","viewPrivacyOptions","defaultViewPrivacy","Object","keys","find","key","default","isFoldersEnabled","defaultFolder","blockProps","dropdownPlaceholder","label","value","type","setType","title","setTitle","description","setDescription","file","setFile","setValue","viewPrivacy","setViewPrivacy","folder","setFolder","uri","isUploading","setUploading","uploadProgress","setUploadProgress","folderSearch","setFolderSearch","folderResults","setFolderResults","remoteSearch","setRemoteSearch","remoteResults","setRemoteResults","localSearch","setLocalSearch","localResults","setLocalResults","savePost","handleUploadSave","event","Uploader","validateVideo","alert","words","sorry","phrases","upload_invalid_file","uploader","beforeStart","onProgress","bytesUploaded","bytesTotal","toFixed","onSuccess","response","currentUpload","currentValue","onError","error","onVideoCreateError","message","parsedError","JSON","parse","hasOwnProperty","onWPNotifyError","data","target","start","saveRemoteSearch","saveLocalSearch","handleClear","delayDebounceFn","setTimeout","length","profile","Profile","search","console","warn","clearTimeout","fetch","body","json","e","concat","createElement","className","width","height","src","replace","frameBorder","allow","webkitallowfullscreen","mozallowfullscreen","allowFullScreen","style","textAlign","onClick","variant","clear","Fragment","marginBottom","radio_title","selected","upload","local","onChange","view_privacy","help","view_privacy_help","map","name","newValue","placeholder","folder_placeholder","folder_help","item","accept","currentTarget","files","video_replace","video_select","marginTop","remote_search_placeholder","video_list","save","local_search_placeholder","Save","registerBlockType","edit"],"sourceRoot":""}