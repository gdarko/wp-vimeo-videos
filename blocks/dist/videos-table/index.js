(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"name":"vimeify/videos-table"}'),a=window.wp.element,l=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.components,{name:o}=t;(0,e.registerBlockType)(o,{attributes:{currentValue:{type:"string"},author:{type:"string",default:"-1"},category:{type:"string",default:"-1"},posts_per_page:{type:"string",default:"6"},order:{type:"string",default:"DESC"},orderby:{type:"string",default:"date"}},edit:({attributes:e,setAttributes:t})=>{const o=(0,n.useBlockProps)(),[s,i]=(0,a.useState)(null),[c,m]=(0,a.useState)(null);return null===s&&wp.apiFetch({path:"/wp/v2/users"}).then((e=>(e=>{const t=[{label:(0,l.__)("Any","wp-vimeo-videos"),value:-1}];i(t.concat(e))})(e.map((e=>({label:e.name,value:e.id})))))),null===c&&wp.apiFetch({path:"/wp/v2/dgv-category"}).then((e=>(e=>{const t=[{label:(0,l.__)("Any","wp-vimeo-videos"),value:-1}];m(t.concat(e))})(e.map((e=>({label:e.name,value:e.id})))))),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{...o},(0,a.createElement)(n.InspectorControls,null,(0,a.createElement)("div",{className:"dgv-inspector-controls-block"},(0,a.createElement)("fieldset",null,(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Author","wp-vimeo-videos"),value:e.author,options:s,onChange:e=>t({author:e})})),(0,a.createElement)("fieldset",null,(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Categories","wp-vimeo-videos"),value:e.category,options:c,onChange:e=>t({category:e})})),(0,a.createElement)("fieldset",null,(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Order Direction","wp-vimeo-videos"),value:e.order,options:[{label:(0,l.__)("DESC","wp-vimeo-videos"),value:"desc"},{label:(0,l.__)("ASC","wp-vimeo-videos"),value:"asc"}],onChange:e=>t({order:e})})),(0,a.createElement)("fieldset",null,(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Order By","wp-vimeo-videos"),value:e.orderby,options:[{label:(0,l.__)("Title","wp-vimeo-videos"),value:"title"},{label:(0,l.__)("Date","wp-vimeo-videos"),value:"date"}],onChange:e=>t({orderby:e})})),(0,a.createElement)("fieldset",null,(0,a.createElement)(r.TextControl,{label:(0,l.__)("Videos number","wp-vimeo-videos"),value:e.posts_per_page,onChange:e=>t({posts_per_page:e}),__nextHasNoMarginBottom:!0})))),(0,a.createElement)("div",{className:"dgv-block-preview dgv-table-wrapper table-responsive "},(0,a.createElement)("table",{className:"dgv-table table",border:"0"},(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,(0,a.createElement)("th",{className:"dgv-head-title"},"Title"),(0,a.createElement)("th",{className:"dgv-head-date"},"Date"),(0,a.createElement)("th",{className:"dgv-head-actions"},"Actions"))),(0,a.createElement)("tbody",null,(0,a.createElement)("tr",null,(0,a.createElement)("td",{className:"dgv-row-title"},"Exaple vimeo video #1"),(0,a.createElement)("td",{className:"dgv-row-date"},"January 01, 2023"),(0,a.createElement)("td",{className:"dgv-row-actions"},(0,a.createElement)("a",{href:"#",target:"_blank",title:"View"},(0,a.createElement)("span",{className:"vimeify-eye"})))),(0,a.createElement)("tr",null,(0,a.createElement)("td",{className:"dgv-row-title"},"Exaple vimeo video #2"),(0,a.createElement)("td",{className:"dgv-row-date"},"January 02, 2023"),(0,a.createElement)("td",{className:"dgv-row-actions"},(0,a.createElement)("a",{href:"#",target:"_blank",title:"View"},(0,a.createElement)("span",{className:"vimeify-eye"})))),(0,a.createElement)("tr",null,(0,a.createElement)("td",{className:"dgv-row-title"},"Exaple vimeo video #3"),(0,a.createElement)("td",{className:"dgv-row-date"},"January 03, 2023"),(0,a.createElement)("td",{className:"dgv-row-actions"},(0,a.createElement)("a",{href:"#",target:"_blank",title:"View"},(0,a.createElement)("span",{className:"vimeify-eye"})))))))))},save:()=>null})})();